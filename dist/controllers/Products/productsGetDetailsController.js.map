{"version":3,"sources":["../../../src/controllers/Products/productsGetDetailsController.ts","../../../src/prisma/index.ts","../../../src/services/Products/productsGetDetailsSevice.ts"],"sourcesContent":["import { Request,Response } from \"express\";\r\nimport { ProductsGetDetailsSevice } from \"../../services/Products/productsGetDetailsSevice\";\r\n\r\nclass ProductGetDetailsController {\r\n  async handle(req: Request, res: Response) {\r\n     const {id} = req.params\r\n     const productsGetDetails = new ProductsGetDetailsSevice()\r\n     const responseProductsGetDetails = await productsGetDetails.execute({id})\r\n\r\n     return res.status(responseProductsGetDetails.data.status).json(responseProductsGetDetails.data)\r\n  }\r\n}\r\n\r\n\r\nexport {ProductGetDetailsController}","import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prismaClient = new PrismaClient()\r\n\r\nexport default prismaClient;\r\n","import { MessagesError } from \"../../constants/messages.api\";\r\nimport prismaClient from \"../../prisma\";\r\n\r\ninterface IListarDetalhesProdutosService {\r\n  id: string;\r\n  idUserLogged?: string | null;\r\n  idUserOwner?: string | null;\r\n}\r\n\r\nclass ProductsGetDetailsSevice {\r\n  async execute({\r\n    id,\r\n    idUserLogged,\r\n    idUserOwner,\r\n  }: IListarDetalhesProdutosService) {\r\n    const userIDSend = idUserLogged ?? idUserOwner;\r\n    const products = await prismaClient.products.findFirst({\r\n      where: {\r\n        id: id,\r\n        idUserOwner: userIDSend,\r\n      },\r\n    });\r\n\r\n    if (!products) {\r\n      return {\r\n        data: {\r\n          message: \"Não foi possível prosseguir, o produto não existe!\",\r\n          status: 404,\r\n        }\r\n      };\r\n    }\r\n\r\n    try {\r\n      return {\r\n        data: {\r\n          items: products,\r\n          status: 200,\r\n        },\r\n      };\r\n    } catch (error: any) {\r\n      return {\r\n        data: {\r\n          message: MessagesError.GetDetailsMessageError,\r\n          error: error?.message,\r\n          status: 500,\r\n        },\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport { ProductsGetDetailsSevice };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,oBAA6B;AAE7B,IAAM,eAAe,IAAI,2BAAa;AAEtC,IAAO,iBAAQ;;;ACKf,IAAM,2BAAN,MAA+B;AAAA,EACvB,QAAQ,IAIqB;AAAA,+CAJrB;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,IACF,GAAmC;AACjC,YAAM,aAAa,sCAAgB;AACnC,YAAM,WAAW,MAAM,eAAa,SAAS,UAAU;AAAA,QACrD,OAAO;AAAA,UACL;AAAA,UACA,aAAa;AAAA,QACf;AAAA,MACF,CAAC;AAED,UAAI,CAAC,UAAU;AACb,eAAO;AAAA,UACL,MAAM;AAAA,YACJ,SAAS;AAAA,YACT,QAAQ;AAAA,UACV;AAAA,QACF;AAAA,MACF;AAEA,UAAI;AACF,eAAO;AAAA,UACL,MAAM;AAAA,YACJ,OAAO;AAAA,YACP,QAAQ;AAAA,UACV;AAAA,QACF;AAAA,MACF,SAAS,OAAY;AACnB,eAAO;AAAA,UACL,MAAM;AAAA,YACJ;AAAA,YACA,OAAO,+BAAO;AAAA,YACd,QAAQ;AAAA,UACV;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA;AACF;;;AF9CA,IAAM,8BAAN,MAAkC;AAAA,EAC1B,OAAO,KAAc,KAAe;AAAA;AACvC,YAAM,EAAC,GAAE,IAAI,IAAI;AACjB,YAAM,qBAAqB,IAAI,yBAAyB;AACxD,YAAM,6BAA6B,MAAM,mBAAmB,QAAQ,EAAC,GAAE,CAAC;AAExE,aAAO,IAAI,OAAO,2BAA2B,KAAK,MAAM,EAAE,KAAK,2BAA2B,IAAI;AAAA,IACjG;AAAA;AACF;","names":[]}